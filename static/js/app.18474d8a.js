(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e792");var a=n("2b0e"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("WxUploaderImage")],1)},i=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a",{staticClass:"weui-btn weui-btn_plain-primary upload-toggle",on:{click:e.chooseImage}},[e._v("上传图片")])])},s=[],r={methods:{chooseImage:function(){wx.ready((function(){var e=this;function t(e,t){wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(n){var a=n.localIds;e&&e(a),wx.uploadImage({localId:""+a,isShowProgressTips:1,success:function(e){serverId=e.serverId,t&&t(serverId)}})}})}t((function(e){}),(function(t){e.uploadImage(t,(function(e){}))}))}))},uploadImage:function(e,t){API({type:"POST",url:"api.php?api=upload",data:{media_id:e},dataType:"json",success:function(e){200==e.code?t(e.data):alert("上传失败！")},error:function(){alert("系统异常，请稍后重试")}})}}},u=r,p=n("2877"),l=Object(p["a"])(u,o,s,!1,null,null,null),d=l.exports,m=n("bc3a"),f=n.n(m),g=n("6199"),w=n.n(g),b={name:"App",components:{WxUploaderImage:d},mounted:function(){var e="wx081e9eb71dfc60f5",t="f4bb38be8b8724672227c659c7b65f25";new Promise((function(n){if(window.jsapi_ticket)n(window.jsapi_ticket);else{var a=localStorage.getItem("jsapi_ticket")||"";a?n(a):f.a.get("/wxapi/cgi-bin/token?grant_type=client_credential&appid="+e+"&secret="+t).then((function(e){var t=e.data;f.a.get("/wxapi/cgi-bin/ticket/getticket?access_token="+t.access_token+"&type=jsapi").then((function(e){var t=e.data;localStorage.setItem("jsapi_ticket",t.ticket),n(t.ticket)}))}))}})).then((function(t){var n=(new Date).getTime().toString().slice(0,10),a="Wm3WZYTPz0wzccnW",c="https://williamframe.github.io/lujunwei/",i="jsapi_ticket=".concat(t,"&noncestr=").concat(a,"&timestamp=").concat(n,"&url=").concat(c),o=w()(i);wx.config({debug:!0,appId:e,timestamp:n,nonceStr:a,signature:o,jsApiList:["chooseImage","ready"]})}))}},I=b,h=Object(p["a"])(I,c,i,!1,null,null,null),k=h.exports;new a["a"]({el:"#app",render:function(e){return e(k)}})}},[[0,"runtime","chunk-libs"]]]);
